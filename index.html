<!doctype html>
<html lang="hi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Live Predictions â€” 500 Slots</title>
<style>
  :root{
    --bg:#020617;
    --card:#020617;
    --muted:#64748b;
    --accent:#22c55e;
    --accent-soft:rgba(34,197,94,0.14);
    --win:#22c55e;
    --lose:#4b5563;
    --tab-bg:#020617;
    --tab-border:#1f2933;
  }
  *{
    box-sizing:border-box;
    margin:0;
    padding:0;
    font-family:system-ui,-apple-system,BlinkMacSystemFont,"SF Pro Text","Segoe UI",Roboto,sans-serif;
  }
  body{
    background:radial-gradient(circle at top,#0f172a 0,#020617 55%,#000 100%);
    color:#e5e7eb;
    padding:12px;
  }
  .header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:12px;
    margin-bottom:12px;
  }
  h1{
    font-size:18px;
    letter-spacing:.12em;
    text-transform:uppercase;
    color:#e5e7eb;
  }
  .sub{
    color:var(--muted);
    font-size:12px;
    margin-top:2px;
  }
  .badge-live{
    font-size:11px;
    padding:4px 8px;
    border-radius:999px;
    border:1px solid rgba(248,113,113,.5);
    color:#fecaca;
    display:inline-flex;
    align-items:center;
    gap:6px;
    text-transform:uppercase;
    letter-spacing:.12em;
  }
  .dot-live{
    width:7px;
    height:7px;
    border-radius:999px;
    background:#f97373;
    box-shadow:0 0 8px rgba(248,113,113,.8);
  }

  .tabs{
    display:flex;
    gap:8px;
    background:var(--tab-bg);
    padding:6px;
    border-radius:999px;
    border:1px solid var(--tab-border);
    box-shadow:0 0 0 1px rgba(15,23,42,.8),0 18px 40px rgba(0,0,0,.75);
  }
  .tab{
    padding:6px 14px;
    border-radius:999px;
    font-weight:600;
    font-size:12px;
    color:var(--muted);
    cursor:pointer;
    text-transform:uppercase;
    letter-spacing:.14em;
    border:1px solid transparent;
    display:flex;
    align-items:center;
    gap:6px;
  }
  .tab span.icon{
    font-size:14px;
  }
  .tab.active{
    background:rgba(15,23,42,0.9);
    color:#e5e7eb;
    border-color:var(--accent);
    box-shadow:0 0 0 1px rgba(34,197,94,.2),0 0 18px rgba(34,197,94,.4);
  }

  .meta{
    margin-top:6px;
    background:rgba(15,23,42,0.95);
    padding:10px 12px;
    border-radius:14px;
    display:flex;
    gap:12px;
    align-items:center;
    flex-wrap:wrap;
    border:1px solid rgba(15,23,42,1);
    box-shadow:0 18px 40px rgba(0,0,0,.85);
  }
  .mitem{
    font-size:12px;
    color:var(--muted);
    display:flex;
    align-items:center;
    gap:6px;
  }
  .label{
    text-transform:uppercase;
    letter-spacing:.16em;
    font-size:10px;
    color:#6b7280;
  }
  .next-code{
    font-family:"JetBrains Mono","Fira Code",ui-monospace,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
    font-size:16px;
    padding:4px 10px;
    border-radius:8px;
    border:1px solid rgba(34,197,94,.4);
    background:radial-gradient(circle at top,rgba(34,197,94,.14),rgba(15,23,42,1));
    color:#bbf7d0;
    text-shadow:0 0 10px rgba(34,197,94,.7);
    min-width:110px;
    text-align:center;
  }
  .next-code.pulse{
    animation:pulse 0.65s ease-out;
  }

  .mono-pill{
    font-family:ui-monospace,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
    font-size:11px;
    padding:3px 8px;
    border-radius:8px;
    border:1px solid rgba(51,65,85,.9);
    background:rgba(15,23,42,.9);
    color:#9ca3af;
  }

  .container{
    margin-top:12px;
  }

  .card{
    background:linear-gradient(135deg,rgba(15,23,42,0.96),rgba(15,23,42,0.94));
    border-radius:14px;
    padding:10px;
    display:flex;
    gap:10px;
    align-items:flex-start;
    margin-bottom:8px;
    border:1px solid rgba(30,64,175,0.4);
    box-shadow:
      0 0 0 1px rgba(15,23,42,1),
      0 15px 35px rgba(15,23,42,.95);
    transition:transform .14s ease,box-shadow .14s ease,border-color .14s ease;
  }
  .card:hover{
    transform:translateY(-1px);
    border-color:rgba(34,197,94,0.4);
    box-shadow:
      0 0 0 1px rgba(15,23,42,1),
      0 18px 40px rgba(0,0,0,.95),
      0 0 24px rgba(34,197,94,0.15);
  }
  .card.pinned{
    border:1px solid rgba(250,204,21,0.8);
    box-shadow:
      0 0 0 1px rgba(15,23,42,1),
      0 22px 50px rgba(0,0,0,.95),
      0 0 26px rgba(250,204,21,0.25);
  }

  .avatar{
    width:46px;
    height:46px;
    border-radius:999px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:800;
    font-size:16px;
    background:radial-gradient(circle at 30% 0%,rgba(248,250,252,.9),rgba(30,64,175,1));
    color:#020617;
    box-shadow:0 12px 28px rgba(15,23,42,.9);
    flex-shrink:0;
  }

  .badge{
    padding:4px 10px;
    border-radius:999px;
    background:rgba(15,23,42,1);
    color:#bbf7d0;
    font-weight:700;
    font-size:11px;
    text-transform:uppercase;
    letter-spacing:.16em;
    border:1px solid rgba(34,197,94,.5);
    font-family:ui-monospace,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
  }

  .name-row{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:6px;
  }
  .name-main{
    font-size:13px;
    font-weight:600;
  }
  .hit-text{
    font-size:11px;
    color:#9ca3af;
    font-family:ui-monospace,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
    margin-top:2px;
  }

  .trend{
    margin-top:6px;
    font-size:14px;
    display:flex;
    flex-wrap:wrap;
    gap:4px;
    align-items:center;
  }
  .dot{
    width:18px;
    height:18px;
    border-radius:4px;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    font-size:11px;
    border:1px solid rgba(51,65,85,1);
    background:rgba(15,23,42,1);
  }
  .dot.win{
    background:var(--accent-soft);
    color:#bbf7d0;
    border-color:rgba(34,197,94,.7);
  }
  .dot.lose{
    background:rgba(31,41,55,1);
    color:#e5e7eb;
  }

  #leaderboard{
    font-size:12px;
    color:#e5e7eb;
    padding:6px 10px;
    border-radius:999px;
    border:1px dashed rgba(34,197,94,.7);
    background:rgba(15,23,42,.9);
    font-family:ui-monospace,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
  }

  @keyframes pulse{
    0%{transform:scale(1);box-shadow:0 0 0 0 rgba(34,197,94,.7);}
    50%{transform:scale(1.05);box-shadow:0 0 0 9px rgba(34,197,94,0);}
    100%{transform:scale(1);box-shadow:0 0 0 0 rgba(34,197,94,0);}
  }

  @media(min-width:900px){
    body{padding:22px;}
    .card{max-width:900px;margin-left:auto;margin-right:auto;}
    .container{max-width:1100px;margin:0 auto;}
  }
</style>
</head>
<body>
  <div class="header">
    <div>
      <h1>WIN GO / 30S</h1>
      <div class="sub">Kalyugi Â· Live Prediction Grid Â· 500 Slots</div>
    </div>
    <div class="tabs">
      <div class="tab active" id="tabSize">
        <span class="icon">ðŸ“Š</span><span>B / S</span>
      </div>
      <div class="tab" id="tabColor">
        <span class="icon">ðŸŽ¨</span><span>COLOR</span>
      </div>
    </div>
  </div>

  <div class="meta">
    <div class="mitem">
      <div style="display:flex;flex-direction:column;gap:3px;">
        <span class="label">NEXT PERIOD</span>
        <span class="next-code" id="nextIssue">â”€â”€â”€â”€â”€â”€</span>
      </div>
    </div>
    <div class="mitem">
      <span class="label">RUNS</span>
      <span class="mono-pill" id="periodCount">0</span>
    </div>
    <div class="mitem">
      <span class="label">LAST SYNC</span>
      <span class="mono-pill" id="lastFetch">â€”</span>
    </div>
    <div class="mitem">
      <span class="badge-live">
        <span class="dot-live"></span>
        LIVE
      </span>
    </div>
  </div>

  <div id="leaderboard" style="display:none;margin-top:10px;"></div>
  <div class="container" id="listContainer"></div>

<script>
(() => {
  const API_URL = "https://draw.ar-lottery01.com/WinGo/WinGo_30S/GetHistoryIssuePage.json";
  const CHECK_INTERVAL = 1000; // à¤¹à¤° 1 à¤¸à¥‡à¤•à¤‚à¤¡ à¤®à¥‡à¤‚ à¤šà¥‡à¤•
  const colorMap = {
    0:"red/violet",
    1:"green",
    2:"red",
    3:"green",
    4:"red",
    5:"green/violet",
    6:"red",
    7:"green",
    8:"red",
    9:"green"
  };
  const sizeOf = n => (n >= 5 ? "Big" : "Small");
  const randNum = () => Math.floor(Math.random() * 10);

  // ---------- ENGLISH / DESI-STYLE NAMES (with "Kalyugi") ----------
  const NAMES = [
    "Pawan Soni","Kalyugi","Umesh Bhai","Pradeep King","Manish Boss","Kajal Queen","Ritik Gamer","Kaku Bhai","Pokri Player","Kapil Bhai",
    "Praveen Kumar","Half Engineer","Big Bro","Billu Boss","Yasu Rider","Neeraj Ninja","Bhadrak","Titu Rocket","Kala King","Krishan Pro",
    "Uddham Singh","Tulla Tiger","Tota Babu","Beeru Bhai","Loss Hoga","Mat Kar Lala","Rokde Mitr","Panther Boy","Chameli Girl","Munni B",
    "Business Queen","Jony Player","Desi Don","Street King","Silent Killer","Sure Shot","Level Se Player","Sorry Bro","Pro Mode","Yo Yo Player",
    "Ajja Baby","Chala Ja Bhai","Papa Ji","Kirmada","Black Storm","Soni Ji","Love You","Faltu King","Bindass Boy","Pagal Patty",
    "Masti Murgi","Naughty Nandu","Desi Boss","Chai Lover","Gol Gappa King","Samosa Master","Chill Chotu","Jhakaas Jitu","Drama Queen","Garam Ghost",
    "Hawa Hawai","Ishqbaaz","Jalwa Jigar","Khurafati Kumar","Lodu Lal","Momo Monster","Oye Omi","Pappi Pankaj","Raita Raja","Tadka Tom",
    "Vicky Viper","Young Yogi","Zinda Dil","Babli Babu","Chipkali Chintu","Dholu Dulha","Funty Funda","Gully Guru","Hero Hira","Idea Iqbal",
    "Kaboom Karan","Laughter Lal","Motu Mintu","Nazar Naresh","Paltan Pingu","Rocker Raju","Sound Suraj","Turbo Tanu","Ustaad Umar","Vino Vicky",
    "Whisky Wale","Yummy Yash","Zesty Zafar","Action Ajit","Blaze Bhanu","Clever Chetan","Dashing Deep","Energetic Esha","Funky Farhan","Giggly Golu",
    "Happy Himmat","Kool Karan","Lucky Lalu","Mazza Mohit","Naughty Naman","Optimist Om","Prankish Punit","Rumble Ramesh","Spicy Sanjay","Urban Uday",
    "Vivid Vikram","Wise Wasim","Yaaron Ka Yaar","Bullet Babu","Royal Ravi","Gully Boy","Swag Simran","Crazy Champ","Turbo Tiger","Diamond Divya"
  ];

  // ---------- state ----------
  let slots = [];
  let lastIssue = null;
  let visibleMode = "size";
  let periodCount = 0;

  const listContainer = document.getElementById("listContainer");
  const nextIssueEl = document.getElementById("nextIssue");
  const periodCountEl = document.getElementById("periodCount");
  const lastFetchEl = document.getElementById("lastFetch");
  const leaderboard = document.getElementById("leaderboard");

  // create slots (500)
  for (let i = 0; i < 500; i++) {
    const p = randNum();
    const name = NAMES[i % NAMES.length] || ("Player " + (i + 1));
    const slot = {
      id: i + 1,
      name,
      predictedNumber: p,
      predictedColor: colorMap[p],
      predictedSize: sizeOf(p),
      winsColor: 0,
      winsSize: 0,
      lossesColor: 0,
      lossesSize: 0,
      history: [],
      pinned: false,
      el: null
    };
    slots.push(slot);
  }

  // create UI cards
  slots.forEach(s => {
    const div = document.createElement("div");
    div.className = "card";
    div.innerHTML = `
      <div class="avatar" style="background:radial-gradient(circle at 30% 0%,rgba(248,250,252,.9),hsl(${(s.id*29)%360} 82% 54%));">
        ${s.name && s.name[0] ? s.name[0].toUpperCase() : "P"}
      </div>
      <div style="flex:1">
        <div class="name-row">
          <div>
            <div class="name-main">${s.name}</div>
            <div id="hit-${s.id}" class="hit-text">Hit:0%</div>
          </div>
          <div id="plan-${s.id}" class="badge">${s.predictedSize}</div>
        </div>
        <div class="trend" id="trend-${s.id}"></div>
      </div>`;
    div.ondblclick = () => {
      s.pinned = !s.pinned;
      div.classList.toggle("pinned", s.pinned);
      sortSlots();
    };
    s.el = div;
    listContainer.appendChild(div);
  });
  
function renderSlot(s) {
  const hit = document.getElementById(`hit-${s.id}`);
  const plan = document.getElementById(`plan-${s.id}`);
  const trend = document.getElementById(`trend-${s.id}`);

  if (!hit || !plan || !trend) return;

  // âœ… Hit rate à¤…à¤¬ à¤¸à¤¿à¤°à¥à¤« last history (max 10) à¤¸à¥‡
  const totalHist = s.history.length;
  let winsHist = 0;
  s.history.forEach(h => {
    if (visibleMode === "size") {
      if (h.winSize) winsHist++;
    } else {
      if (h.winColor) winsHist++;
    }
  });

  const rate = totalHist ? Math.round((winsHist / totalHist) * 100) : 0;

  hit.textContent = `Hit:${rate}%`;
  plan.textContent = visibleMode === "size" ? s.predictedSize : s.predictedColor;

  trend.innerHTML = "";
  s.history.slice(0, 10).forEach(h => {
    const ok = visibleMode === "size" ? h.winSize : h.winColor;
    const d = document.createElement("div");
    d.className = "dot " + (ok ? "win" : "lose");
    d.textContent = ok ? "ðŸŽ¯" : "ðŸ‘ï¸";
    trend.appendChild(d);
  });
}

  function applyActual(act) {
    const num = parseInt(act.number, 10);
    if (isNaN(num)) return;
    const color = colorMap[num];
    const size = sizeOf(num);

    slots.forEach(s => {
      const pred = s.predictedNumber;
      const winC = colorMap[pred] === color;
      const winS = sizeOf(pred) === size;

      if (winC) s.winsColor++; else s.lossesColor++;
      if (winS) s.winsSize++; else s.lossesSize++;

      s.history.unshift({ winColor: winC, winSize: winS });
      if (s.history.length > 10) s.history.length = 10;

      const p = randNum();
      s.predictedNumber = p;
      s.predictedColor = colorMap[p];
      s.predictedSize = sizeOf(p);

      renderSlot(s);
    });

    sortSlots();
  }

  function sortSlots() {
    const sorted = [...slots].sort((a, b) => {
      if (a.pinned && !b.pinned) return -1;
      if (b.pinned && !a.pinned) return 1;
      const aw = visibleMode === "size" ? a.winsSize : a.winsColor;
      const bw = visibleMode === "size" ? b.winsSize : b.winsColor;
      return bw - aw;
    });

    sorted.forEach(s => listContainer.appendChild(s.el));

    const top = sorted[0];
    if (top) {
      leaderboard.style.display = "block";
      leaderboard.textContent = `â­ TOP SLOT :: ${top.name} // Wins: ${visibleMode === "size" ? top.winsSize : top.winsColor}`;
    } else {
      leaderboard.style.display = "none";
    }
  }

  async function fetchLoop() {
    try {
      const res = await fetch(API_URL, { cache: "no-store" });
      const js = await res.json();
      lastFetchEl.textContent = new Date().toLocaleTimeString();

      const lst = js?.data?.list;
      if (!lst) {
        setTimeout(fetchLoop, CHECK_INTERVAL);
        return;
      }

      const latest = lst[0];
      const issue = latest.issueNumber;

      if (issue) {
        const nextNum = (parseInt(issue, 10) + 1).toString();
        const changed = nextIssueEl.textContent !== nextNum;
        nextIssueEl.textContent = nextNum;

        // next period à¤¬à¤¦à¤²à¤¤à¥‡ à¤¹à¥€ pulse animation
        if (changed) {
          nextIssueEl.classList.add("pulse");
          setTimeout(() => nextIssueEl.classList.remove("pulse"), 650);
        }
      }

      // à¤¨à¤¯à¤¾ issue à¤†à¤¯à¤¾ à¤¹à¥‹ à¤¤à¤­à¥€ logic à¤šà¤²à¥‡
      if (issue && issue !== lastIssue) {
        lastIssue = issue;
        periodCount++;
        periodCountEl.textContent = periodCount;
        applyActual(latest);
      }
    } catch (e) {
      console.error("fetch err", e);
    }
    setTimeout(fetchLoop, CHECK_INTERVAL);
  }

  document.getElementById("tabSize").onclick = () => {
    visibleMode = "size";
    toggleTabs();
  };
  document.getElementById("tabColor").onclick = () => {
    visibleMode = "color";
    toggleTabs();
  };

  function toggleTabs() {
    document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
    document
      .getElementById(visibleMode === "size" ? "tabSize" : "tabColor")
      .classList.add("active");
    slots.forEach(renderSlot);
    sortSlots();
  }

  // initial render & start loop
  slots.forEach(renderSlot);
  sortSlots();
  fetchLoop();

  // debug
  window._slots = slots;
})();
</script>
</body>
</html>